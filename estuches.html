<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Estuches ‚Äî Perfumer√≠a San Rafael</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'perfume-accent': '#3b82f6', 
                        'perfume-accent-dark': '#2563eb',
                        'perfume-success': '#10b981', 
                    }
                }
            }
        }
    </script>

    <style>
        :root { --bg: #0b0b0b; --muted: #9ca3af; --accent: #e6e6e6 }
        body { background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.02), transparent), var(--bg); font-family: 'Inter', sans-serif; }
        .perfume-card { backdrop-filter: blur(8px); background-color: rgba(20, 20, 20, 0.6); }
        .glow { box-shadow: 0 6px 30px rgba(255,255,255,0.03), 0 0 40px rgba(255,255,255,0.02) inset; }
        .modal-backdrop { background: linear-gradient(180deg, rgba(0,0,0,0.8), rgba(0,0,0,0.92)); }
        .modal-scroll::-webkit-scrollbar { width: 8px; }
        .modal-scroll::-webkit-scrollbar-track { background: #2d3748; }
        .modal-scroll::-webkit-scrollbar-thumb { background: #4a5568; border-radius: 4px; }
        .modal-scroll::-webkit-scrollbar-thumb:hover { background: #718096; }
        input[type="text"], input[type="email"]{ background-color: #1f2937; border-color: #4b5563; color: #e5e7eb; }
        input[type="text"]:focus, input[type="email"]:focus{ border-color: var(--accent); box-shadow: 0 0 0 1px var(--accent); }
        input[type="radio"]:checked + label { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(230, 230, 230, 0.2); }
        .file-input-wrapper { position: relative; overflow: hidden; display: inline-block; cursor: pointer; }
        .file-input-wrapper input[type=file] { font-size: 100px; position: absolute; left: 0; top: 0; opacity: 0; cursor: pointer; }
        .file-input-button { background-color: #4a5568; color: #e5e7eb; border: 1px solid #4b5563; padding: 8px 12px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body class="text-gray-200 antialiased">
    <main class="min-h-screen px-6 py-12">
        <header class="max-w-6xl mx-auto flex items-center justify-between">
            <div>
                <h1 class="text-3xl font-extrabold tracking-tight text-white">Estuches <span class="text-amber-400">Exclusivos</span></h1>
                <p class="text-sm text-gray-500">Sets y colecciones de fragancias</p>
            </div>
            <!-- Desktop Navigation -->
            <nav class="hidden md:flex space-x-2 items-center">
                <a href="perfumeriasanrafael.html" class="px-3 py-2 text-sm rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">Inicio</a>
                <a href="perfumes-mujer.html" class="px-3 py-2 text-sm rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">Mujer</a>
                <a href="perfumes-hombre.html" class="px-3 py-2 text-sm rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">Hombre</a>
                <a href="perfumes-arabes.html" class="px-3 py-2 text-sm rounded-md text-gray-400 hover:bg-gray-800 hover:text-white transition-colors">√Årabes</a>
                <button id="open-cart-btn" class="relative text-gray-400 hover:text-white transition-colors ml-4 px-3 py-2">
                    <i class="fas fa-shopping-bag fa-lg"></i>
                    <span id="cart-count" class="absolute -top-1 -right-1 bg-perfume-accent text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center text-[10px]">0</span>
                </button>
            </nav>
            <!-- Mobile Navigation -->
            <div class="md:hidden flex items-center space-x-2">
                <button id="open-cart-btn-mobile" class="relative text-gray-400 hover:text-white transition-colors px-3 py-2">
                    <i class="fas fa-shopping-bag fa-lg"></i>
                    <span id="cart-count-mobile" class="absolute -top-1 -right-1 bg-perfume-accent text-white text-xs font-bold rounded-full h-4 w-4 flex items-center justify-center text-[10px]">0</span>
                </button>
                <button id="mobile-menu-btn" class="text-gray-400 hover:text-white transition-colors px-3 py-2">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
            </div>
        </header>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="md:hidden fixed top-0 left-0 w-full h-full bg-black bg-opacity-90 z-40 transform translate-x-full transition-transform duration-300 ease-in-out">
            <div class="flex justify-end p-4">
                <button id="close-mobile-menu" class="text-white text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="flex flex-col items-center space-y-6 mt-16">
                <a href="perfumeriasanrafael.html" class="text-white text-xl hover:text-perfume-accent transition-colors">Inicio</a>
                <a href="perfumes-mujer.html" class="text-white text-xl hover:text-perfume-accent transition-colors">Mujer</a>
                <a href="perfumes-hombre.html" class="text-white text-xl hover:text-perfume-accent transition-colors">Hombre</a>
                <a href="perfumes-arabes.html" class="text-white text-xl hover:text-perfume-accent transition-colors">√Årabes</a>
            </nav>
        </div>

        <!-- Breadcrumbs -->
        <nav class="max-w-6xl mx-auto mt-8 mb-4" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2 text-sm">
                <li>
                    <a href="distribuidoralaeconomica.html" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fas fa-home mr-1"></i>Inicio
                    </a>
                </li>
                <li class="text-gray-500">
                    <i class="fas fa-chevron-right mx-2"></i>
                </li>
                <li>
                    <a href="perfumeriasanrafael.html" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fas fa-perfume-bottle mr-1"></i>Perfumer√≠a
                    </a>
                </li>
                <li class="text-gray-500">
                    <i class="fas fa-chevron-right mx-2"></i>
                </li>
                <li class="text-amber-400 font-medium">
                    <i class="fas fa-gift mr-1"></i>Estuches
                </li>
            </ol>
        </nav>

        <!-- Hero Section -->
        <section class="max-w-6xl mx-auto mt-8 mb-16">
            <div class="relative overflow-hidden rounded-2xl border border-gray-800 glow">
                <div class="relative h-96 md:h-[400px] flex items-center justify-center">
                    <div class="absolute inset-0 bg-gradient-to-r from-amber-900/80 to-orange-900/80"></div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <i class="fas fa-gift text-8xl text-amber-400 opacity-30"></i>
                    </div>
                    <div class="relative z-20 text-center px-6">
                        <h2 class="text-4xl md:text-6xl font-extrabold text-white mb-4 tracking-tight">
                            Estuches <span class="text-amber-400">Exclusivos</span>
                        </h2>
                        <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto">
                            Sets y colecciones de fragancias perfectas para regalar o coleccionar. 
                            Descubre nuestra selecci√≥n especial.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Colecci√≥n de Estuches</h2>
                <p class="text-gray-400 text-lg">Sets exclusivos y colecciones de fragancias</p>
            </div>
            <div class="grid perfume-grid grid-cols-2 md:grid-cols-2 gap-8">
                
                <!-- Set Mini 212 Carolina Herrera -->
                <article class="perfume-card group relative bg-gray-900 rounded-xl p-3 border border-gray-700 hover:border-gray-500 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 glow">
                    <!-- Discount Badge -->
                    <div class="absolute top-1 left-1 z-10">
                        <span class="bg-blue-500 text-white px-1.5 py-0.5 rounded text-xs font-bold">-35%</span>
                    </div>
                    
                    <!-- Product Image -->
                    <div class="h-32 flex items-center justify-center mb-3 cursor-pointer relative">
                        <img src="https://perfumescolombia.com/wp-content/uploads/2024/11/Set-Mini-212l.jpg" alt="Set Mini 212 Carolina Herrera" class="max-h-full transition-transform group-hover:scale-105 object-contain open-modal-btn"
                             data-id="P006"
                             data-name="Set Mini 212 Carolina Herrera"
                             data-price="119900"
                             data-desc="Descubre nuestro exclusivo set de 3 mini perfumes de 30ml cada uno, dise√±ado para el hombre moderno: üî• 212 Sexy Men ‚Äì Seducci√≥n y elegancia üåÜ 212 NYC Men ‚Äì Energ√≠a y dinamismo üíß 212 Aqua Men ‚Äì Frescura y vitalidad"
                             data-notes-out="Variedad de Fragancias"
                             data-notes-heart="Set Exclusivo"
                             data-notes-base="Colecci√≥n Completa"
                             data-image-src="https://perfumescolombia.com/wp-content/uploads/2024/11/Set-Mini-212l.jpg">
                    </div>
                    
                    <!-- Product Info -->
                    <div class="space-y-1.5">
                        <!-- Brand -->
                        <p class="text-xs text-gray-400">Carolina Herrera</p>
                        
                        <!-- Product Name -->
                        <h3 class="text-sm font-bold text-white cursor-pointer open-modal-btn"
                            data-id="P006"
                            data-name="Set Mini 212 Carolina Herrera"
                            data-price="119900"
                            data-desc="Descubre nuestro exclusivo set de 3 mini perfumes de 30ml cada uno, dise√±ado para el hombre moderno: üî• 212 Sexy Men ‚Äì Seducci√≥n y elegancia üåÜ 212 NYC Men ‚Äì Energ√≠a y dinamismo üíß 212 Aqua Men ‚Äì Frescura y vitalidad"
                            data-notes-out="Variedad de Fragancias"
                            data-notes-heart="Set Exclusivo"
                            data-notes-base="Colecci√≥n Completa"
                            data-image-src="https://perfumescolombia.com/wp-content/uploads/2024/11/Set-Mini-212l.jpg">Set Mini 212 EDT 3x30ml</h3>
                        
                        <!-- Rating -->
                        <div class="flex items-center space-x-1">
                            <div class="flex text-yellow-400">
                                <i class="fas fa-star text-sm"></i>
                                <i class="fas fa-star text-sm"></i>
                                <i class="fas fa-star text-sm"></i>
                                <i class="fas fa-star text-sm"></i>
                                <i class="fas fa-star text-sm"></i>
                            </div>
                            <span class="text-xs text-gray-400">(42)</span>
                        </div>
                        
                        <!-- Price -->
                        <div class="flex items-center space-x-2">
                            <span class="text-lg font-bold text-amber-400">$119.900</span>
                            <span class="text-xs text-gray-500 line-through">$184.500</span>
                        </div>
                        
                        <!-- Quantity Selector -->
                        <div class="flex items-center justify-center space-x-2 py-1">
                            <button class="quantity-btn w-6 h-6 rounded-full border-2 border-gray-600 flex items-center justify-center hover:border-gray-400 transition-colors" data-action="decrease">
                                <i class="fas fa-minus text-xs text-gray-300"></i>
                            </button>
                            <span class="quantity-display text-sm font-semibold min-w-[16px] text-center text-white">1</span>
                            <button class="quantity-btn w-6 h-6 rounded-full border-2 border-gray-600 flex items-center justify-center hover:border-gray-400 transition-colors" data-action="increase">
                                <i class="fas fa-plus text-xs text-gray-300"></i>
                            </button>
                        </div>
                        
                        <!-- Add to Cart Button -->
                        <button class="add-to-cart-btn w-full py-2 rounded-lg text-gray-900 font-bold bg-amber-400 hover:bg-amber-300 transition-colors text-sm"
                                data-id="P006"
                                data-name="Set Mini 212 Carolina Herrera"
                                data-price="119900">
                            <i class="fas fa-shopping-bag mr-1"></i>Agregar
                        </button>
                    </div>
                </article>

            </div>
        </section>

        <!-- Modal and Cart functionality (same as main page) -->
        <div id="productModal" class="fixed inset-0 hidden items-center justify-center z-50 p-4">
            <div class="absolute inset-0 modal-backdrop" aria-hidden="true"></div>
            <div class="relative max-w-4xl w-full mx-auto bg-transparent transform scale-95 opacity-0">
                <button id="closeProductModal" class="absolute -right-2 -top-2 z-50 p-2 rounded-full bg-white text-black leading-none hover:bg-gray-200">
                     <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-0 md:gap-6 items-stretch rounded-2xl overflow-hidden perfume-card border border-gray-700">
                    <div class="p-8 flex flex-col justify-between">
                        <div>
                            <h2 id="modalTitle" class="text-3xl font-bold text-white">Producto</h2>
                            <p id="modalDesc" class="mt-2 text-gray-400">Descripci√≥n breve.</p>
                            <ul class="mt-6 text-xs text-gray-400 space-y-1">
                                <li><strong class="text-gray-300">Salida:</strong> <span id="noteOut"></span></li>
                                <li><strong class="text-gray-300">Coraz√≥n:</strong> <span id="noteHeart"></span></li>
                                <li><strong class="text-gray-300">Fondo:</strong> <span id="noteBase"></span></li>
                            </ul>
                        </div>
                        <div class="mt-8 flex items-center gap-4">
                            <div id="modalPrice" class="text-3xl font-extrabold text-white">$0</div>
                            <button id="modalAddToCartBtn" class="add-to-cart-btn px-6 py-3 rounded-md bg-white text-black font-semibold flex items-center gap-2">
                                <i class="fas fa-shopping-bag"></i> A√±adir
                            </button>
                        </div>
                    </div>
                    <div class="h-96 md:h-full bg-black/30 flex items-center justify-center relative overflow-hidden">
                        <img id="perfume-image" class="max-h-full object-contain" alt="Perfume Image">
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Modal -->
        <div id="cart-modal" class="fixed top-0 right-0 h-full w-full md:w-96 bg-gray-900 shadow-2xl transform translate-x-full transition-transform duration-500 ease-in-out z-[60] flex flex-col border-l border-gray-700">
            <div class="flex justify-between items-center p-6 border-b border-gray-700">
                <h2 class="text-2xl font-bold text-white">Tu Carrito</h2>
                <button id="close-cart-btn" class="text-gray-500 hover:text-white"><i class="fas fa-times fa-2x"></i></button>
            </div>
            <div id="cart-items" class="flex-grow p-6 overflow-y-auto modal-scroll">
                <p id="cart-empty-msg" class="text-gray-400 text-center">Tu carrito est√° vac√≠o.</p>
            </div>
            <div class="p-6 border-t border-gray-700 bg-gray-800">
                <div class="flex justify-between items-center mb-4"><span class="text-xl font-bold text-white">Total:</span><span id="cart-total" class="text-2xl font-bold text-perfume-accent">$0</span></div>
                <button id="checkout-btn" class="w-full bg-perfume-accent hover:bg-perfume-accent-dark text-white font-bold py-2 rounded-lg text-lg disabled:bg-gray-600 disabled:cursor-not-allowed" disabled>Finalizar Compra</button>
            </div>
        </div>

        <div id="modal-overlay" class="fixed inset-0 bg-black opacity-0 hidden z-40 pointer-events-none"></div> 

    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let cart = [];
            
            // --- ELEMENT SELECTORS ---
            const openModalButtons = document.querySelectorAll('.open-modal-btn');
            const productModal = document.getElementById('productModal');
            const closeProductModalBtn = document.getElementById('closeProductModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalDesc = document.getElementById('modalDesc');
            const modalPrice = document.getElementById('modalPrice');
            const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
            const perfumeImage = document.getElementById('perfume-image');
            const noteOut = document.getElementById('noteOut');
            const noteHeart = document.getElementById('noteHeart');
            const noteBase = document.getElementById('noteBase');
            
            const openCartBtn = document.getElementById('open-cart-btn');
            const openCartBtnMobile = document.getElementById('open-cart-btn-mobile');
            const cartModal = document.getElementById('cart-modal');
            const closeCartBtn = document.getElementById('close-cart-btn');
            const cartItemsContainer = document.getElementById('cart-items');
            const cartEmptyMsg = document.getElementById('cart-empty-msg');
            const cartTotalEl = document.getElementById('cart-total');
            const cartCountEl = document.getElementById('cart-count');
            const cartCountMobileEl = document.getElementById('cart-count-mobile');
            const checkoutBtn = document.getElementById('checkout-btn');
            
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const closeMobileMenuBtn = document.getElementById('close-mobile-menu');
            const mobileMenu = document.getElementById('mobile-menu');
            
            // --- MODAL ANIMATIONS ---
            const modalOverlay = document.getElementById('modal-overlay');
            const productModalTimeline = gsap.timeline({ paused: true });
            const cartTimeline = gsap.timeline({ paused: true });
            const overlayTimeline = gsap.timeline({ paused: true });
            
            productModalTimeline
                .add(() => overlayTimeline.play())
                .set(productModal, { display: 'flex' })
                .fromTo(productModal.querySelector('.bg-transparent'), { scale: 0.95, opacity: 0 }, { duration: 0.4, scale: 1, opacity: 1, ease: "elastic.out(1, 0.75)" });
            
            cartTimeline
                .add(() => overlayTimeline.play())
                .set(cartModal, { display: 'flex' })
                .fromTo(cartModal, { x: '100%' }, { duration: 0.5, x: 0, ease: "power2.out" });
            
            overlayTimeline
                .set(modalOverlay, { display: 'block', pointerEvents: 'auto' })
                .fromTo(modalOverlay, { opacity: 0 }, { duration: 0.3, opacity: 1 });
            
            function openProductModal(button) {
                const id = button.dataset.id;
                const name = button.dataset.name;
                const price = button.dataset.price;
                const desc = button.dataset.desc;
                const notesOut = button.dataset.notesOut;
                const notesHeart = button.dataset.notesHeart;
                const notesBase = button.dataset.notesBase;
                const imageSrc = button.dataset.imageSrc;
                
                modalTitle.textContent = name;
                modalDesc.textContent = desc;
                modalPrice.textContent = `$${parseInt(price).toLocaleString('es-CL')}`;
                perfumeImage.src = imageSrc;
                noteOut.textContent = notesOut;
                noteHeart.textContent = notesHeart;
                noteBase.textContent = notesBase;
                
                modalAddToCartBtn.dataset.id = id;
                modalAddToCartBtn.dataset.name = name;
                modalAddToCartBtn.dataset.price = price;
                
                productModalTimeline.play();
            }
            
            function closeProductModal() {
                productModalTimeline.reverse().then(() => {
                    gsap.set(productModal, { display: 'none' });
                    if (!isAnyModalOpenOrAnimating([cartTimeline])) {
                        overlayTimeline.reverse().then(() => gsap.set(modalOverlay, { pointerEvents: 'none' }));
                    }
                });
            }
            
            function openCart() {
                cartTimeline.play();
            }
            
            function closeCart() {
                cartTimeline.reverse().then(() => {
                    gsap.set(cartModal, { display: 'none' });
                    if (!isAnyModalOpenOrAnimating([productModalTimeline])) {
                        overlayTimeline.reverse().then(() => gsap.set(modalOverlay, { pointerEvents: 'none' }));
                    }
                });
            }
            
            function isAnyModalOpenOrAnimating(timelines) {
                return timelines.some(tl => tl.isActive() || tl.progress() > 0);
            }
            
            function animateAddToCart(button) {
                gsap.fromTo(button, { scale: 1 }, { scale: 1.05, duration: 0.15, yoyo: true, repeat: 1, ease: "power2.out" });
                gsap.fromTo("#open-cart-btn", { scale: 1 }, { scale: 1.2, y: -2, duration: 0.2, yoyo: true, repeat: 1, ease: "elastic.out(1, 0.3)" });
            }
            
            // --- CART LOGIC ---
            function addToCart(e) {
                const button = e.target.closest('.add-to-cart-btn');
                if (!button) return;
                if (!button.closest('#productModal')) {
                    animateAddToCart(button);
                }
                const id = button.dataset.id;
                
                // Obtener la cantidad del selector de cantidad
                const card = button.closest('.perfume-card');
                const quantityDisplay = card ? card.querySelector('.quantity-display') : null;
                const quantity = quantityDisplay ? parseInt(quantityDisplay.textContent) : 1;
                
                const existingItem = cart.find(item => item.id === id);
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    cart.push({ id: id, name: button.dataset.name, price: parseInt(button.dataset.price), quantity: quantity });
                }
                updateCartUI();
                closeProductModal();
            }
            
            function updateCartUI() {
                if (!cartItemsContainer) return;
                if (cart.length === 0) {
                    cartEmptyMsg.style.display = 'block';
                    cartItemsContainer.innerHTML = '';
                    cartTotalEl.innerText = '$0';
                    cartCountEl.innerText = '0';
                    if (cartCountMobileEl) cartCountMobileEl.innerText = '0';
                    checkoutBtn.disabled = true;
                    return;
                }
                cartEmptyMsg.style.display = 'none';
                cartItemsContainer.innerHTML = '';
                let total = 0;
                let totalItems = 0;
                cart.forEach(item => {
                    total += item.price * item.quantity;
                    totalItems += item.quantity;
                    const itemEl = document.createElement('div');
                    itemEl.className = 'flex justify-between items-center mb-4 py-2 border-b border-gray-700';
                    itemEl.innerHTML = `
                        <div class="text-sm">
                            <h4 class="font-semibold text-gray-100">${item.name}</h4>
                            <p class="text-gray-400">Cantidad: ${item.quantity}</p>
                        </div>
                        <span class="font-semibold text-gray-200">$${(item.price * item.quantity).toLocaleString('es-CL')}</span>
                        <button class="remove-from-cart text-red-500 hover:text-red-400 ml-2" data-id="${item.id}">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    cartItemsContainer.appendChild(itemEl);
                });
                cartTotalEl.innerText = `$${total.toLocaleString('es-CL')}`;
                cartCountEl.innerText = totalItems;
                if (cartCountMobileEl) cartCountMobileEl.innerText = totalItems;
                checkoutBtn.disabled = false;
            }
            
            function handleCartClick(e) {
                if (e.target.closest('.remove-from-cart')) {
                    const id = e.target.closest('.remove-from-cart').dataset.id;
                    cart = cart.filter(item => item.id !== id);
                    updateCartUI();
                }
            }
            
            function openMobileMenu() {
                mobileMenu.classList.remove('translate-x-full');
                mobileMenu.classList.add('translate-x-0');
            }
            
            function closeMobileMenu() {
                mobileMenu.classList.remove('translate-x-0');
                mobileMenu.classList.add('translate-x-full');
            }
            
            // --- EVENT LISTENERS ---
            openModalButtons.forEach(btn => btn.addEventListener('click', (e) => {
                const buttonElement = e.target.closest('.open-modal-btn');
                if (buttonElement) {
                    openProductModal(buttonElement);
                }
            }));
            
            if (modalAddToCartBtn) modalAddToCartBtn.addEventListener('click', addToCart);
            
            // Event listeners para todos los botones de agregar al carrito
            document.addEventListener('click', (e) => {
                if (e.target.closest('.add-to-cart-btn')) {
                    addToCart(e);
                }
            });
            
            if (closeProductModalBtn) closeProductModalBtn.addEventListener('click', closeProductModal);
            if (openCartBtn) openCartBtn.addEventListener('click', openCart);
            if (openCartBtnMobile) openCartBtnMobile.addEventListener('click', openCart);
            if (closeCartBtn) closeCartBtn.addEventListener('click', closeCart);
            if (cartItemsContainer) cartItemsContainer.addEventListener('click', handleCartClick);
            if (checkoutBtn) checkoutBtn.addEventListener('click', () => {
                const total = cartTotalEl.innerText.replace('$', '').replace(/\./g, '');
                window.location.href = `mercadopago.html?total=${total}&origin=estuches-page`;
            });
            
            if (mobileMenuBtn) mobileMenuBtn.addEventListener('click', openMobileMenu);
            if (closeMobileMenuBtn) closeMobileMenuBtn.addEventListener('click', closeMobileMenu);
            if (mobileMenu) mobileMenu.addEventListener('click', (e) => {
                if (e.target === mobileMenu) closeMobileMenu();
            });
            
            updateCartUI();
        });
    </script>
</body>
</html>